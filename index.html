<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>HUOKAING THARA | Cybersecurity Expert</title>
<style>
  /* Background Rain Canvas Styling */
  #rainCanvas {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    z-index: -1;
    filter: blur(2px);
    background: #000;
  }
  body {
    margin: 0; padding: 0;
    font-family: 'Courier New', Courier, monospace;
    color: white;
    background: #000;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }
  header.hero {
    max-width: 900px;
    margin: 30px auto 15px;
    padding: 40px;
    background: rgba(0,0,0,0.7);
    border-radius: 10px;
    border: 1px solid rgba(0,255,0,0.1);
    text-align: center;
  }
  h1 {
    font-size: 2.5em;
    animation: colorChange 1.5s infinite alternate ease-in-out;
    margin: 0 0 20px;
  }
  @keyframes colorChange {
    0% { color: #00f; text-shadow: 0 0 5px #00f;}
    33% { color: #f00; text-shadow: 0 0 5px #f00;}
    66% { color: #0f0; text-shadow: 0 0 5px #0f0;}
    100% { color: #00f; text-shadow: 0 0 5px #00f;}
  }
  #intro-text {
    font-size: 1.3rem;
    max-width: 720px;
    margin: 0 auto;
    line-height: 1.5;
    color: #afa;
  }

  section {
    max-width: 900px;
    margin: 20px auto 60px;
    padding: 40px;
    background: rgba(0,0,0,0.7);
    border-radius: 10px;
    border: 1px solid rgba(0,255,0,0.1);
  }
  h2 {
    margin-bottom: 20px;
  }
  ul, li {
    color: #ccc;
    margin-left: 1.3em;
  }
  ul.languages, ul.certifications {
    list-style-position: inside;
    padding-left: 0;
  }
  ul.languages li a,
  ul.certifications li {
    font-weight: bold;
    color: #0f0;
  }
  .btn {
    display: inline-block;
    padding: 8px 16px;
    margin: 8px 8px 16px 0;
    background: rgba(0,128,0,0.2);
    color: #0f0;
    border: 1px solid #0f0;
    text-decoration: none;
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
    user-select: none;
    transition: all 0.3s ease;
    font-size: 0.9em;
    min-width: 90px;
    text-align: center;
  }
  .btn:hover, .btn:focus {
    background: #0f0;
    color: #000;
    box-shadow: 0 0 15px #0f0;
    outline: none;
  }
  /* Controls container fixed bottom */
  #controls {
    position: fixed;
    bottom: 0; left: 0; right: 0;
    background: rgba(0,0,0,0.95);
    border-top: 2px solid #0f0;
    padding: 20px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 14px;
    z-index: 10000;
  }
  #controls > * {
    flex-grow: 1;
    max-width: 160px;
    min-width: 130px;
  }
  #langSelect {
    width: 100%;
    padding: 8px;
    font-size: 1rem;
    border-radius: 5px;
    border: 1px solid #0f0;
    background-color: #000;
    color: #0f0;
  }
  /* Chat container inside controls */
  #chatWrapper {
    flex-grow: 3;
    max-width: 350px;
    display: flex;
    flex-direction: column;
    gap: 4px;
    color: #0f0;
  }
  #chatLog {
    height: 120px;
    background: #000;
    border: 1px solid #0f0;
    border-radius: 6px;
    padding: 6px 10px;
    overflow-y: auto;
    font-size: 0.85rem;
    white-space: pre-line;
    font-family: 'Arial', sans-serif;
  }
  #chatInput {
    flex-grow: 0;
    padding: 6px 8px;
    font-size: 1rem;
    border-radius: 6px;
    border: 1px solid #0f0;
    background: #000;
    color: #0f0;
  }
  #toggleVoiceBtn, #sendMessageBtn {
    width: 100%;
  }
  #logo {
    flex-basis: 100%;
    text-align: center;
    color: #39ff14;
    font-weight: bold;
    font-family: 'Courier New', Courier, monospace;
    font-size: 1.4rem;
    user-select: none;
    margin-top: 6px;
  }
  /* Learning resources buttons inside controls: override flex-grow max-width */
  #learningResources {
    max-width: 310px;
    display: flex;
    flex-direction: column;
    gap: 8px;
  }
  #learningResources a.btn {
    min-width: auto;
  }
  /* Audio players */
  #audioPlayers {
    flex-basis: 100%;
    padding-top: 10px;
    border-top: 1px solid #0f0;
    display: flex;
    justify-content: center;
    gap: 30px;
    flex-wrap: wrap;
  }
  .audio-wrapper {
    background: #111;
    border: 1px solid #0f0;
    padding: 10px;
    border-radius: 8px;
    max-width: 300px;
    color: #0f0;
    font-size: 0.9rem;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .audio-wrapper audio {
    width: 100%;
    margin-bottom: 6px;
    outline: none;
    filter: drop-shadow(0 0 2px #0f0);
  }
  .audio-wrapper button {
    background: transparent;
    border: 1px solid #0f0;
    color: #0f0;
    padding: 4px 10px;
    border-radius: 4px;
    cursor: pointer;
    user-select: none;
    font-weight: bold;
    text-align: center;
    width: max-content;
  }
  .audio-wrapper button:hover {
    background: #0f0;
    color: #000;
  }

  /* Scrollbar for chatLog */
  #chatLog::-webkit-scrollbar {
    width: 8px;
  }
  #chatLog::-webkit-scrollbar-track {
    background: #000;
  }
  #chatLog::-webkit-scrollbar-thumb {
    background: #0f0;
    border-radius: 4px;
  }
  /* Responsive tweak */
  @media (max-width: 640px) {
    #controls {
      flex-direction: column;
      max-height: 50vh;
      overflow-y: auto;
    }
    #chatWrapper {
      max-width: 100%;
    }
    #learningResources {
      max-width: 100%;
      flex-direction: row;
      flex-wrap: wrap;
      justify-content: center;
      gap: 8px;
    }
    #learningResources a.btn {
      padding: 6px 10px;
      font-size: 0.85rem;
    }
    #audioPlayers {
      flex-direction: column;
      align-items: center;
      gap: 20px;
    }
  }
</style>
</head>
<body>

<canvas id="rainCanvas"></canvas>

<header class="hero" aria-label="Introduction">
  <h1>HUOKAING THARA - Cybersecurity <br />with a Passion for Protecting the Digital World</h1>
  <p id="intro-text">I specialize in Pen testing, ethical hacking, network security, and more to safeguard your systems and data.</p>
</header>

<section id="about" aria-label="About Me">
  <h2 style="color: #3498db; border-bottom: 1px solid #3498db;">About Me</h2>
  <p>
    I'm a highly motivated and experienced cybersecurity professional with a diverse skillset spanning Pen testing, ethical hacking, network security, and cyber threat intelligence (CTI). I'm always eager to learn and explore new frontiers in cybersecurity to stay ahead of evolving threats.
  </p>
</section>

<section id="skills" aria-label="My Skills and Expertise">
  <h2 style="color: #e74c3c; border-bottom: 1px solid #e74c3c;">My Skills & Expertise</h2>
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
    <ul style="list-style-type: '‚ö° '; color: #ccc;">
      <li>Pen testing</li>
      <li>Data Forensic</li>
      <li>Cyber Threat Intelligence (CTI)</li>
      <li>Data Recovery</li>
      <li>Disaster Recovery</li>
    </ul>
    <ul style="list-style-type: '‚ö° '; color: #ccc;">
      <li>Ethical Hacking</li>
      <li>Programming</li>
      <li>Artificial Intelligence</li>
      <li>Machine Learning</li>
      <li>Network Security</li>
    </ul>
  </div>
</section>

<section id="languages" aria-label="Languages I Speak">
  <h2 style="color: #e74c3c; border-bottom: 1px solid #e74c3c;">Languages</h2>
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
    <ul class="languages">
      <li><a href="https://translate.google.com/translate?sl=en&tl=km&u=https://tharahuokaing.github.io/" class="btn" target="_blank" rel="noopener noreferrer">Khmer</a></li>
      <li><a href="https://tharahuokaing.github.io/" class="btn" target="_blank" rel="noopener noreferrer">English</a></li>
      <li><a href="https://translate.google.com/translate?sl=en&tl=th&u=https://tharahuokaing.github.io/" class="btn" target="_blank" rel="noopener noreferrer">Thai</a></li>
    </ul>
    <ul class="languages">
      <li><a href="https://translate.google.com/translate?sl=en&tl=zh-CN&u=https://tharahuokaing.github.io/" class="btn" target="_blank" rel="noopener noreferrer">Chinese (Currently Learning)</a></li>
      <li><a href="https://translate.google.com/translate?sl=en&tl=lo&u=https://tharahuokaing.github.io/" class="btn" target="_blank" rel="noopener noreferrer">Laotian (Currently Learning)</a></li>
      <li><a href="https://translate.google.com/translate?sl=en&tl=zh-CN&u=https://tharahuokaing.github.io/" class="btn" target="_blank" rel="noopener noreferrer">Singapore Mandarin (Currently Learning)</a></li>
    </ul>
  </div>
</section>

<section id="experience" aria-label="Experience and Certifications">
  <h2 style="color: #9b59b6; border-bottom: 1px solid #9b59b6;">Experience & Certifications</h2>
  <ul class="certifications" style="list-style-type: '‚úî '; color: #fff;">
    <li>Cybersecurity Certificate</li>
    <li>Data Science Certificate</li>
    <li>Artificial Intelligence Certificate</li>
    <li>Hacking Advanced Certificate</li>
  </ul>
</section>

<section id="learning-resources" aria-label="Learning Resources">
  <h2 style="color: #9b59b6; border-bottom: 1px solid #9b59b6;">Learning Resources</h2>
  <ul>
    <li><a href="https://www.netacad.com/" class="btn" target="_blank" rel="noopener noreferrer">Netacad</a></li>
    <li><a href="https://mystanfordconnection.stanford.edu/portal/logon.do?method=load" class="btn" target="_blank" rel="noopener noreferrer">Stanford Connection</a></li>
    <li><a href="https://programminghub.io/" class="btn" target="_blank" rel="noopener noreferrer">Programming Hub</a></li>
    <li><a href="https://www.coursera.org/" class="btn" target="_blank" rel="noopener noreferrer">Coursera</a></li>
  </ul>
</section>

<section id="useful-links" aria-label="Useful Links">
  <h2 style="color: #9b59b6; border-bottom: 1px solid #9b59b6;">Useful Links</h2>
  <nav class="navbar" aria-label="Useful links navigation">
    <ul style="list-style-type: '‚ö° '; color: #ccc; padding-left: 0; display: flex; flex-wrap: wrap; gap: 8px;">
      <li><a href="https://tharahuokaing.github.io/" class="btn" target="_blank" rel="noopener noreferrer">Get in Touch</a></li>
      <li><a href="https://gemini.google.com/app" class="btn" target="_blank" rel="noopener noreferrer">Google-Gemini</a></li>
      <li><a href="https://copilot.microsoft.com" class="btn" target="_blank" rel="noopener noreferrer">Microsoft-Copilot</a></li>
      <li><a href="https://ernie.baidu.com/chat/" class="btn" target="_blank" rel="noopener noreferrer">Baidu-ERNIE</a></li>
      <li><a href="https://tharahuokaing.github.io/chatbot/" class="btn" target="_blank" rel="noopener noreferrer">Personal-Chatbot</a></li>
      <li><a href="https://www.virustotal.com/gui/home/upload" class="btn" target="_blank" rel="noopener noreferrer">VirusTotal</a></li>
    </ul>
  </nav>
</section>

<!-- Controls fixed bottom -->
<div id="controls" role="region" aria-label="Controls panel">
  <!-- Language switcher -->
  <select id="langSelect" aria-label="Select language">
    <option value="en">English</option>
    <option value="km">Khmer (·ûó·û∂·ûü·û∂·ûÅ·üí·ûò·üÇ·ûö)</option>
    <option value="th">Thai (‡πÑ‡∏ó‡∏¢)</option>
    <option value="lo">Laotian (‡∫•‡∫≤‡∫ß)</option>
    <option value="zh">Chinese (‰∏≠Êñá)</option>
    <option value="si">Singapore Mandarin</option>
  </select>
  <button id="toggleVoiceBtn" class="btn" aria-label="Toggle voice gender">üîä Voice: Female</button>
  <button id="sendMessageBtn" class="btn" aria-label="Send oath message">üí¨ Send Message</button>

  <!-- AI Chat Area -->
  <div id="chatWrapper" aria-live="polite" aria-atomic="false" aria-label="Artificial Intelligence Chat Log">
    <div id="chatLog"></div>
    <input id="chatInput" type="text" autocomplete="off" placeholder="Type your message here" aria-label="Chat input"/>
  </div>

  <!-- Learning Resources links -->
  <div id="learningResources" aria-label="Learning resource quick links">
    <a href="https://www.netacad.com/" class="btn" target="_blank" rel="noopener noreferrer" tabindex="0">Netacad</a>
    <a href="https://mystanfordconnection.stanford.edu/portal/logon.do?method=load" class="btn" target="_blank" rel="noopener noreferrer" tabindex="0">Stanford Connection</a>
    <a href="https://programminghub.io/" class="btn" target="_blank" rel="noopener noreferrer" tabindex="0">Programming Hub</a>
    <a href="https://www.coursera.org/" class="btn" target="_blank" rel="noopener noreferrer" tabindex="0">Coursera</a>
  </div>

  <!-- Audio Players -->
  <div id="audioPlayers">
    <div class="audio-wrapper" aria-label="Audio player 1: Song 1">
      <audio controls preload="none" controlsList="nodownload" src="https://www.youtube.com/watch?v=9pxH1wMPfOA"></audio>
      <a href="https://www.youtube.com/watch?v=9pxH1wMPfOA" target="_blank" class="btn" download>üîΩ Download</a>
    </div>
    <div class="audio-wrapper" aria-label="Audio player 2: Song 2">
      <audio controls preload="none" controlsList="nodownload" src="https://www.youtube.com/watch?v=xmQpBwlXyE0"></audio>
      <a href="https://www.youtube.com/watch?v=xmQpBwlXyE0" target="_blank" class="btn" download>üîΩ Download</a>
    </div>
    <div class="audio-wrapper" aria-label="Audio player 3: Song 3">
      <audio controls preload="none" controlsList="nodownload" src="https://www.youtube.com/watch?v=b8oHN0S2biw"></audio>
      <a href="https://www.youtube.com/watch?v=b8oHN0S2biw" target="_blank" class="btn" download>üîΩ Download</a>
    </div>
  </div>

  <div id="logo">HUOKAING THARA | Cybersecurity Specialist</div>
</div>

<footer aria-label="Footer" style="max-width:900px; margin: 20px auto 40px; padding:10px 20px; font-size:0.9em; color:#e63946; text-align:center;">
  <div>üî• &copy; 2029 HUOKAING THARA | Cybersecurity Specialist</div>
  <div style="font-size: 0.8em; margin-top:6px; color:#ff914d;">
    Graduation Milestone: End of 2029 ‚Äî Secured with Advanced Intrusion Detection & Script-Blocker Technology
  </div>
  <div style="font-size: 0.75em; margin-top:6px; color:#ccc;">
    üîí Integrity ‚Ä¢ Availability ‚Ä¢ Confidentiality
  </div>
  <div style="font-size: 0.8em; margin-top:8px; color:#66ffcc; font-style: italic;">
    Ethical Hacker Oath:
    <br>
    "Make sure you don't commit crime ‚Äî we will help you for free. <br>
    We don't need your money. Upgrade your skill with us."
  </div>
  <div style="font-size: 0.8em; margin-top:6px; color:#999; filter: blur(1px);">White Hat Hacker</div>
</footer>

<script>
  // Rain canvas setup
  const canvas = document.getElementById('rainCanvas');
  const ctx = canvas.getContext('2d');

  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  window.addEventListener('resize', resizeCanvas);
  resizeCanvas();

  class Raindrop {
    constructor() {
      this.reset();
    }
    reset() {
      this.x = Math.random() * canvas.width;
      this.y = Math.random() * -canvas.height;
      this.length = 10 + Math.random() * 20;
      this.speed = 4 + Math.random() * 4;
      this.opacity = 0.2 + Math.random() * 0.8;
    }
    update() {
      this.y += this.speed;
      if (this.y > canvas.height) {
        this.reset();
      }
    }
    draw() {
      ctx.strokeStyle = `rgba(0, 255, 0, ${this.opacity})`;
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(this.x, this.y);
      ctx.lineTo(this.x, this.y + this.length);
      ctx.stroke();
    }
  }

  const raindrops = [];
  const maxDrops = 500;
  for (let i=0; i<maxDrops; i++) raindrops.push(new Raindrop());

  function drawRain() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    for (const drop of raindrops) {
      drop.update();
      drop.draw();
    }
  }
  setInterval(drawRain,33);

  // Voice synthesis and language management
  let useFemaleVoice = true;
  const toggleVoiceBtn = document.getElementById('toggleVoiceBtn');
  const langSelect = document.getElementById('langSelect');
  const chatLog = document.getElementById('chatLog');
  const chatInput = document.getElementById('chatInput');

  // Store language and voice in localStorage if available
  if(localStorage.getItem('selectedLang')) {
    langSelect.value = localStorage.getItem('selectedLang');
  }
  if(localStorage.getItem('femaleVoice')==='false') {
    useFemaleVoice = false;
  }

  // Update voice button text accordingly
  function updateVoiceBtnText() {
    toggleVoiceBtn.textContent = 'üîä Voice: ' + (useFemaleVoice ? langData[langSelect.value].voiceFemale : langData[langSelect.value].voiceMale);
  }
  updateVoiceBtnText();

  // Texts for AI and UI per language
  // Voice descriptions for toggle button are adapted per language
  const langData = {
    en: {
      welcome: "Hello! How can I assist you in cybersecurity or learning?",
      oath: "Ethical Hacker Oath:\n\"Make sure you don't commit crime ‚Äî we will help you for free.\nWe don't need your money. Upgrade your skill with us.\"",
      noinput: "Please enter a message.",
      thanks: "Thank you for your message! I am here to help you learn and improve your cybersecurity skills.",
      voiceFemale: "Female",
      voiceMale: "Male"
    },
    km: {
      welcome: "·ûü·ûΩ·ûü·üí·ûä·û∏! ·ûè·ûæ·ûÅ·üí·ûâ·ûª·üÜ·û¢·û∂·ûÖ·ûá·ûΩ·ûô·û¢·üí·ûú·û∏·û¢·üí·ûì·ûÄ·ûî·û∂·ûì·ûÅ·üí·ûõ·üá·ûÄ·üí·ûì·ûª·ûÑ·ûú·û∑·ûü·üê·ûô·ûü·ûª·ûú·ûè·üí·ûê·û∑·ûó·û∂·ûñ·ûñ·üê·ûè·üå·ûò·û∂·ûì·ûú·û∑·ûë·üí·ûô·û∂ ·ûì·û∑·ûÑ·ûÄ·û∂·ûö ·ûö·üÄ·ûì?",
      oath: "·ûü·ûì·üí·ûô·û∂·û¢·üí·ûì·ûÄ·ûÄ·ûº·ûä·ûï·üí·ûõ·ûº·ûú·ûÄ·û∂·ûö·ûá·û∂·û¢·üí·ûì·ûÄ·ûá·ûΩ·ûô·ûü·ûì·üí·ûè·û∑·ûü·ûª·ûÅ·üñ\n\"·ûí·üí·ûú·ûæ·û¢·üÑ·ûô·ûî·üí·ûö·û∂·ûÄ·ûä·ûê·û∂·û¢·üí·ûì·ûÄ·ûò·û∑·ûì·ûí·üí·ûú·ûæ·ûî·ûë·ûõ·üí·ûò·ûæ·ûü ‚Äî ·ûô·ûæ·ûÑ·ûì·ûπ·ûÑ·ûá·ûΩ·ûô·û¢·üí·ûì·ûÄ·ûä·üÑ·ûô·û•·ûè·ûÇ·û∑·ûè·ûê·üí·ûõ·üÉ·üî\n·ûô·ûæ·ûÑ·ûò·û∑·ûì·ûè·üí·ûö·ûº·ûú·ûÄ·û∂·ûö·ûî·üí·ûö·û∂·ûÄ·üã·ûë·üÅ·üî ·ûí·üí·ûú·ûæ·û≤·üí·ûô·ûá·üÜ·ûì·û∂·ûâ·ûö·ûî·ûü·üã·û¢·üí·ûì·ûÄ·ûÄ·û∂·ûì·üã·ûè·üÇ·ûÖ·üí·ûî·û∂·ûü·üã·ûõ·û∂·ûü·üã·üî\"",
      noinput: "·ûü·ûº·ûò·ûî·ûâ·üí·ûÖ·ûº·ûõ·ûü·û∂·ûö·ûò·ûΩ·ûô·üî",
      thanks: "·û¢·ûö·ûÇ·ûª·ûé·ûü·ûò·üí·ûö·û∂·ûî·üã·ûü·û∂·ûö·ûö·ûî·ûü·üã·û¢·üí·ûì·ûÄ! ·ûÅ·üí·ûâ·ûª·üÜ·ûò·û∂·ûì·ûë·û∏·ûì·üÖ·ûë·û∏·ûì·üÅ·üá·ûä·ûæ·ûò·üí·ûî·û∏·ûá·ûΩ·ûô·û¢·üí·ûì·ûÄ·ûö·üÄ·ûì·ûì·û∑·ûÑ·ûî·ûÑ·üí·ûÄ·ûæ·ûì·ûá·üÜ·ûì·û∂·ûâ·ûú·û∑·ûü·üí·ûú·ûÄ·ûò·üí·ûò·ûü·ûª·ûú·ûè·üí·ûê·û∑·ûó·û∂·ûñ·üî",
      voiceFemale: "·ûü·üí·ûö·û∏",
      voiceMale: "·ûî·üí·ûö·ûª·ûü"
    },
    th: {
      welcome: "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ! ‡∏â‡∏±‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÑ‡∏ã‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?",
      oath: "‡∏Ñ‡∏≥‡∏õ‡∏è‡∏¥‡∏ç‡∏≤‡∏ì‡∏Ç‡∏≠‡∏á‡πÅ‡∏Æ‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏à‡∏£‡∏£‡∏¢‡∏≤‡∏ö‡∏£‡∏£‡∏ì:\n\"‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏ú‡∏¥‡∏î‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‚Äî‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏∏‡∏ì‡∏ü‡∏£‡∏µ\n‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì\"",
      noinput: "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏õ‡πâ‡∏≠‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°",
      thanks: "‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì! ‡∏â‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏î‡πâ‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÑ‡∏ã‡πÄ‡∏ö‡∏≠‡∏£‡πå",
      voiceFemale: "‡∏´‡∏ç‡∏¥‡∏á",
      voiceMale: "‡∏ä‡∏≤‡∏¢"
    },
    lo: {
      welcome: "‡∫™‡∫∞‡∫ö‡∫≤‡∫ç‡∫î‡∫µ! ‡∫Ç‡ªâ‡∫≠‡∫ç‡∫™‡∫≤‡∫°‡∫≤‡∫î‡∫ä‡ªà‡∫ß‡∫ç‡ªÄ‡∫à‡∫ª‡ªâ‡∫≤‡ªÉ‡∫ô‡∫î‡ªâ‡∫≤‡∫ô‡∫Ñ‡∫ß‡∫≤‡∫°‡∫õ‡∫≠‡∫î‡ªÑ‡∫û‡∫≠‡∫¥‡∫ô‡ªÄ‡∫ï‡∫µ‡ªÄ‡∫ô‡∫±‡∫î ‡∫´‡∫º‡∫∑ ‡∫Å‡∫≤‡∫ô‡∫Æ‡∫Ω‡∫ô‡∫Æ‡∫π‡ªâ‡ªÑ‡∫î‡ªâ‡∫¢‡ªà‡∫≤‡∫á‡ªÉ‡∫î?",
      oath: "‡∫Ñ‡∫≥‡∫õ‡∫∞‡∫ï‡∫¥‡∫ö‡∫±‡∫î‡∫Ç‡∫≠‡∫á‡ªÅ‡∫Æ‡∫Å‡ªÄ‡∫Å‡∫µ‡∫ó‡∫µ‡ªà‡∫°‡∫µ‡∫à‡∫±‡∫î‡∫ï‡∫ª‡∫ß:\n\"‡ªÉ‡∫´‡ªâ‡ªÅ‡∫ô‡ªà‡ªÉ‡∫à‡∫ß‡ªà‡∫≤‡ªÄ‡∫à‡∫ª‡ªâ‡∫≤‡∫ö‡ªç‡ªà‡ªÑ‡∫î‡ªâ‡∫Å‡ªç‡ªà‡∫Ñ‡∫ß‡∫≤‡∫°‡∫ú‡∫¥‡∫î‡ªÄ‡∫û‡∫≤‡∫∞ ‚Äî ‡ªÄ‡∫Æ‡∫ª‡∫≤‡∫à‡∫∞‡∫ä‡ªà‡∫ß‡∫ç‡ªÄ‡∫à‡∫ª‡ªâ‡∫≤‡ªÇ‡∫î‡∫ç‡∫ö‡ªç‡ªà‡∫ï‡ªâ‡∫≠‡∫á‡∫à‡ªà‡∫≤‡∫ç‡ªÄ‡∫á‡∫¥‡∫ô\n‡ªÄ‡∫Æ‡∫ª‡∫≤‡∫ö‡ªç‡ªà‡∫ï‡ªâ‡∫≠‡∫á‡∫Å‡∫≤‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô‡∫Ç‡∫≠‡∫á‡ªÄ‡∫à‡∫ª‡ªâ‡∫≤ ‡∫û‡∫±‡∫î‡∫ó‡∫∞‡∫ô‡∫≤‡∫ó‡∫±‡∫Å‡∫™‡∫∞‡∫Ç‡∫≠‡∫á‡ªÄ‡∫à‡∫ª‡ªâ‡∫≤\"",
      noinput: "‡∫Å‡∫∞‡∫•‡∫∏‡∫ô‡∫≤‡ªÉ‡∫™‡ªà‡∫Ç‡ªç‡ªâ‡∫Ñ‡∫ß‡∫≤‡∫°",
      thanks: "‡∫Ç‡∫≠‡∫ö‡ªÉ‡∫à‡∫™‡ªç‡∫≤‡∫•‡∫±‡∫ö‡∫Ç‡ªç‡ªâ‡∫Ñ‡∫ß‡∫≤‡∫°‡∫Ç‡∫≠‡∫á‡ªÄ‡∫à‡∫ª‡ªâ‡∫≤! ‡∫Ç‡ªâ‡∫≠‡∫ç‡∫¢‡∫π‡ªà‡∫ô‡∫µ‡ªâ‡ªÄ‡∫û‡∫∑‡ªà‡∫≠‡∫ä‡ªà‡∫ß‡∫ç‡ªÄ‡∫à‡∫ª‡ªâ‡∫≤‡ªÄ‡∫û‡∫µ‡ªà‡∫°‡∫û‡∫π‡∫ô‡∫Ñ‡∫ß‡∫≤‡∫°‡∫Æ‡∫π‡ªâ‡∫ó‡∫≤‡∫á‡∫Ñ‡∫ß‡∫≤‡∫°‡∫õ‡∫≠‡∫î‡ªÑ‡∫û ‡ªÅ‡∫•‡∫∞ ‡∫û‡∫±‡∫î‡∫ó‡∫∞‡∫ô‡∫≤‡∫ó‡∫±‡∫Å‡∫™‡∫∞.",
      voiceFemale: "‡∫ú‡∫π‡ªâ‡∫ç‡∫¥‡∫á",
      voiceMale: "‡∫ú‡∫π‡ªâ‡∫ä‡∫≤‡∫ç"
    },
    zh: {
      welcome: "ÊÇ®Â•ΩÔºÅÊàëÂèØ‰ª•Â¶Ç‰ΩïÂ∏ÆÂä©ÊÇ®‰∫ÜËß£ÁΩëÁªúÂÆâÂÖ®ÊàñÂ≠¶‰π†Ôºü",
      oath: "ÈÅìÂæ∑È™áÂÆ¢Ë™ìË®ÄÔºö\n‚ÄúÁ°Æ‰øùÊÇ®‰∏çÁäØÁΩ™‚Äî‚ÄîÊàë‰ª¨‰ºöÂÖçË¥πÂ∏ÆÂä©ÊÇ®„ÄÇ\nÊàë‰ª¨‰∏çÈúÄË¶ÅÊÇ®ÁöÑÈí±„ÄÇÊèêÂçáÊÇ®ÁöÑÊäÄËÉΩ„ÄÇ‚Äù",
      noinput: "ËØ∑ËæìÂÖ•Ê∂àÊÅØ„ÄÇ",
      thanks: "ÊÑüË∞¢ÊÇ®ÁöÑÊ∂àÊÅØÔºÅÊàëÂú®ËøôÈáåÂ∏ÆÂä©ÊÇ®Â≠¶‰π†ÂíåÊèêÈ´òÁΩëÁªúÂÆâÂÖ®ÊäÄËÉΩ„ÄÇ",
      voiceFemale: "Â•≥Â£∞",
      voiceMale: "Áî∑Â£∞"
    },
    si: {
      welcome: "Hello! How can I assist you in cybersecurity or learning? (Singapore Mandarin)",
      oath: "Ethical Hacker Oath:\n\"Make sure you don't commit crime ‚Äî we will help you for free.\nWe don't need your money. Upgrade your skill with us.\"",
      noinput: "Please enter a message.",
      thanks: "Thank you for your message! I am here to help you learn and improve your cybersecurity skills.",
      voiceFemale: "Female",
      voiceMale: "Male"
    }
  };

  // Save lang and voice to localStorage
  function saveLangVoice() {
    localStorage.setItem('selectedLang', langSelect.value);
    localStorage.setItem('femaleVoice', useFemaleVoice.toString());
  }

  function getVoiceByGender(lang, isFemale) {
    let voices = speechSynthesis.getVoices();
    // Attempt to find voice by language prefix and gender keyword
    // fallback to any from language
    let filtered = voices.filter(v => v.lang.startsWith(lang));
    if(filtered.length === 0) filtered = voices;
    if(isFemale) {
      const femaleVoices = filtered.filter(v => /female|woman|girl/i.test(v.name));
      if(femaleVoices.length) return femaleVoices[0];
    } else {
      const maleVoices = filtered.filter(v => /male|man|boy/i.test(v.name));
      if(maleVoices.length) return maleVoices[0];
    }
    return filtered[0] || null;
  }

  function speakText(text) {
    if(speechSynthesis.speaking) {
      speechSynthesis.cancel();
    }
    const utterance = new SpeechSynthesisUtterance(text);
    const v = getVoiceByGender(langSelect.value, useFemaleVoice);
    if(v) utterance.voice = v;
    utterance.lang = langSelect.value;
    speechSynthesis.speak(utterance);
  }

  // Update button text based on language & voice
  function updateVoiceBtnText() {
    toggleVoiceBtn.textContent = 'üîä Voice: ' + (useFemaleVoice ? langData[langSelect.value].voiceFemale : langData[langSelect.value].voiceMale);
  }

  // AI "brain": very simple pattern matching and response per language
  function aiResponse(input) {
    const text = input.toLowerCase().trim();
    const lang = langSelect.value;

    if(!text) return langData[lang].noinput;
    if(text.includes('hello') || text.includes('hi') || text.includes('·ûü·ûΩ·ûü·üí·ûè·û∏') || text.includes('xin ch√†o') || text.includes('‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ')) {
      return langData[lang].welcome;
    }
    if(text.includes('oath') || text.includes('·ûü·ûì·üí·ûô·û∂') || text.includes('‡∏Ñ‡∏≥‡∏õ‡∏è‡∏¥‡∏ç‡∏≤‡∏ì') || text.includes('Ë™ìË®Ä')) {
      return langData[lang].oath;
    }
    // fallback generic thanks
    return langData[lang].thanks;
  }

  // Append message to chat log
  function appendChat(text) {
    chatLog.textContent += text + "\n\n";
    chatLog.scrollTop = chatLog.scrollHeight;
  }

  // On language change, update voice button, clear chat, speak welcome immediately
  langSelect.addEventListener('change', () => {
    saveLangVoice();
    updateVoiceBtnText();
    chatLog.textContent = '';
    const msg = langData[langSelect.value].welcome;
    appendChat("AI: " + msg);
    speakText(msg);
  });

  // Toggle voice gender button
  toggleVoiceBtn.addEventListener('click', () => {
    useFemaleVoice = !useFemaleVoice;
    saveLangVoice();
    updateVoiceBtnText();
    // Speak current AI greeting again using new voice
    speakText(langData[langSelect.value].welcome);
  });

  // Send Message button replies with oath aloud and in chat
  const sendMessageBtn = document.getElementById('sendMessageBtn');
  sendMessageBtn.addEventListener('click', () => {
    const oath = langData[langSelect.value].oath;
    appendChat("AI: " + oath);
    speakText(oath);
  });

  // Chat input enter key
  chatInput.addEventListener('keydown', e => {
    if(e.key === 'Enter') {
      e.preventDefault();
      const userMsg = chatInput.value.trim();
      if(!userMsg) return;
      appendChat("You: " + userMsg);
      chatInput.value = '';
      // immediate reply simulating AI using latest NLP etc (simplified here)
      const reply = aiResponse(userMsg);
      appendChat("AI: " + reply);
      speakText(reply);
    }
  });

  // On page load, greet user immediately
  window.speechSynthesis.onvoiceschanged = () => {
    // speak welcome message once voices are loaded
    if(!window.welcomeSpoken) {
      const msg = langData[langSelect.value].welcome;
      appendChat("AI: " + msg);
      speakText(msg);
      window.welcomeSpoken = true;
    }
  };
  // Trigger voiceschanged if already loaded
  if(speechSynthesis.getVoices().length > 0) {
    window.dispatchEvent(new Event('voiceschanged'));
  }

  // Offline support:
  // This is a demo, for real offline you need service worker to cache files.
  // Here we just allow website functions without relying on server besides external links.

  // Audio players: YouTube links won't play directly due to CORS, replaced with placeholder links.
  // To play and download audio, we must provide actual audio files or reliable URLs.
  // So here we provide "play" buttons that open YouTube videos in new tab
  // And download buttons that open YouTube page for user to download externally.

  // So changed audio source to YouTube links placeholder - limited functionality.

</script>
</body>
</html>
